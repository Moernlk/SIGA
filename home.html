<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8" />
    <title>HomePage</title>
    <link rel="icon" type="image/x-icon" href="/img/home/home.png" />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/background.css" />
    <link rel="stylesheet" href="styles/comandcenter.css" />
    <link rel="stylesheet" href="styles/secd-btns.css" />
    <link rel="stylesheet" href="/styles/agenda/calendario-index.css" />

    <style>
      * {
        -webkit-user-drag: none;
      }
    </style>
  </head>
  <body id="body">
    <script type="text/javascript">
      const body = document.getElementById("body");

      function bg() {
        body.innerHTML =
          '<object type="text/html" data="background.html" id="bac"></object>';
        const bgd = document.createElement("div");
        bgd.id = "bac";
        const background = document.getElementById("bac");
        background.style.width = "100dvw";
        background.style.height = "100dvh";
        background.style.position = "absolute";
        background.style.left = 0;
        background.style.top = 0;
        background.style.zIndex = 0;
        body.appendChild(bgd);
      }
      bg();
    </script>

    <div id="calendario">
      <div class="calend-index">
        <div id="agenda" draggable="true"></div>
      </div>
    </div>

    <div class="conteiner" style="justify-content: center; align-items: center">
      <div class="comand-center-index" style="align-self: self-start">
        <!-- AGENDA -->
        <div
          class="cnt"
          id="area-btn-agenda"
          style="position: absolute; left: -5dvw"
        >
          <button class="btn-agenda" id="btn-agenda">
            <div>
              <img class="prg-btn-img" src="/img/agenda/agenda.png" />
            </div>
            <div id="agenda-name" class="popup-informations">Agenda</div>
          </button>

          <div class="agd-btns-area" id="agenda-sec-btn">
            <button class="btns-agd" id="btn-secd1">
              <a href="/calendario.html">
                <div>
                  <img class="sec-btn-img" src="/img/agenda/calendario.png" />
                </div>
                <div
                  id="calendario-name"
                  style="right: 0.3dvw"
                  class="popup-informations"
                >
                  Calendário
                </div>
              </a>
            </button>
            <button class="btns-agd" id="btn-secd4">
              <div>
                <img class="sec-btn-img" src="/img/agenda/horarios.png" />
              </div>
              <div id="hora-name" class="popup-informations">Horarios</div>
            </button>
            <button class="btns-agd" id="btn-secd3">
              <div>
                <img class="sec-btn-img" src="/img/agenda/provas.png" />
              </div>
              <div
                id="prova-name"
                style="left: 1dvw"
                class="popup-informations"
              >
                Provas
              </div>
            </button>
          </div>
        </div>
        <!-- PROGRESSO -->
        <div class="cnt" id="area-btn-progresso" style="position: absolute">
          <button class="btn-progresso" id="btn-progresso">
            <div>
              <img class="prg-btn-img" src="/img/progresso/progress.png" />
            </div>
            <div id="progresso-name" class="popup-informations">Progresso</div>
          </button>
          <div class="prg-btns-area">
            <button class="btns-prg" id="btn-secd1">
              <div>
                <img class="sec-btn-img" src="/img/progresso/grade.png" />
              </div>
              <div id="notas-name" class="popup-informations">Notas</div>
            </button>
            <button class="btns-prg" id="btn-secd2">
              <div>
                <img class="sec-btn-img" src="/img/progresso/faltas.png" />
              </div>
              <div id="faltas-name" class="popup-informations">Faltas</div>
            </button>
            <button class="btns-prg" id="btn-secd3">
              <div>
                <img class="sec-btn-img" src="/img/progresso/materias.png" />
              </div>
              <div id="ensino-name" class="popup-informations">Matérias</div>
            </button>
            <button class="btns-prg" id="btn-secd4">
              <div>
                <img class="sec-btn-img" src="/img/progresso/historico.png" />
              </div>
              <div id="hist-name" class="popup-informations">Histórico</div>
            </button>
          </div>
        </div>
        <!-- SECRETARIA -->

        <div
          class="cnt"
          id="area-btn-recursos"
          style="position: absolute; left: 5dvw"
        >
          <button class="btn-recursos" id="btn-recursos">
            <div>
              <img class="prg-btn-img" src="/img/recursos/recursos.png" />
            </div>
            <div id="recursos-name" class="popup-informations">Recursos</div>
          </button>

          <div class="rec-btns-area">
            <button class="btns-rec" id="btn-secd1">
              <div>
                <img class="sec-btn-img" src="/img/recursos/secretaria.png" />
              </div>
              <div id="secret-name" class="popup-informations">Secretaria</div>
            </button>
            <button class="btns-rec" id="btn-secd2">
              <div>
                <img class="sec-btn-img" src="/img/recursos/library.png" />
              </div>
              <div id="library-name" class="popup-informations">Biblioteca</div>
            </button>
            <button class="btns-rec" id="btn-secd3">
              <div>
                <img
                  class="sec-btn-img"
                  src="/img/recursos/extraCurricular1.png"
                />
              </div>
              <div id="extraC-name" class="popup-informations">
                Extra-Curriculares
              </div>
            </button>
          </div>
        </div>
      </div>

      <!--CALENDARIO-->
      <script src="/script/calendario.js"></script>
      <script type="text/javascript">
        const cl = document.getElementById("calendario");
        cl.style.opacity = "100";
        /* agd.addEventListener("click", function () {
          if (cl.style.opacity == "100") {
            cl.style.opacity = "0";
            agd.style.backgroundColor = "#a0ff97d2";
          } else {
            cl.style.opacity = "100";
            agd.style.backgroundColor = "whitesmoke";
          } 
        });*/
      </script>

      <!-- MOVIMENTO DAS DIVs -->
      <script type="text/javascript">
        //ATIVADOR POR CLICK
        var isDown = false;

        // POSIÇÃO DO CLICK
        var position = [];

        // POSIÇÃO DO MOUSE
        var mousePosition;

        //DETECTA QUAL BOTÃOFOI MOVIDO
        var loc;

        const agenda = document.getElementById("area-btn-agenda");
        const agdr = document.getElementById("btn-agenda");

        const progresso = document.getElementById("area-btn-progresso");
        const prog = document.getElementById("btn-progresso");

        const recurso = document.getElementById("area-btn-recursos");
        const recr = document.getElementById("btn-recursos");

        // DETECTOR DOS DIVS
        agdr.addEventListener(
          "mousedown",
          function (e) {
            isDown = true;
            position = [
              agenda.offsetLeft - e.clientX,
              agenda.offsetTop - e.clientY,
            ];
            loc = 1;
          },
          true
        );
        recr.addEventListener(
          "mousedown",
          function (e) {
            isDown = true;
            position = [
              recurso.offsetLeft - e.clientX,
              recurso.offsetTop - e.clientY,
            ];
            loc = 3;
          },
          true
        );
        prog.addEventListener(
          "mousedown",
          function (e) {
            isDown = true;
            position = [
              progresso.offsetLeft - e.clientX,
              progresso.offsetTop - e.clientY,
            ];
            loc = 2;
          },
          true
        );
          // MOVIMENTO DO MOUSE
        document.addEventListener(
          "mousemove",
          function (e) {
            e.preventDefault();
            if (isDown) {
              mousePosition = {
                x: e.clientX,
                y: e.clientY,
              };
              // OBRIGA A ESTAR DENTRO DA TELA
              if (
                window.innerWidth > mousePosition.x == true &&
                mousePosition.x >= 0 == true
              ) {
                if (loc == 1) {
                  agenda.style.left = mousePosition.x + position[0] + "px";
                  agenda.style.top = mousePosition.y + position[1] + "px";
                }
                if (loc == 2) {
                  progresso.style.left = mousePosition.x + position[0] + "px";
                  progresso.style.top = mousePosition.y + position[1] + "px";
                }
                if (loc == 3) {
                  recurso.style.left = mousePosition.x + position[0] + "px";
                  recurso.style.top = mousePosition.y + position[1] + "px";
                }
              } else {
                isDown = false;
              }
            }
            /*           
            $(document).mouseout(function () {
              isDown = false;
            });
*/
          },
          true
        );
          // DETECTOR DA PARADA
        document.addEventListener(
          "mouseup",
          function () {
            isDown = false;
            loc = 0;
            //Jquery
          },
          true
        );



        /*const cl = document.getElementById("calendario");
        const agd = document.getElementById("btn-agenda");
        cl.style.opacity = "0";
        agd.addEventListener("click", function () {
          if (cl.style.opacity == "100") {
            cl.style.opacity = "0";
            agd.style.backgroundColor = "#a0ff97d2";
          } 
          else 
          {
       
            cl.style.opacity = "100";
            agd.style.backgroundColor = "whitesmoke";
         
          }
        });*/
      </script>
    </div>
  </body>
</html>


